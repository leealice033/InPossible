<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>InAnalysis</title>
<link href="/webjars/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
<link href="/webjars/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
</head>
<body>
	<div th:replace="fragments/header :: header"></div>
	<form method="POST" action="/model-management">
		<!-- <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" /> -->
		<input type="hidden" name="projectId" th:value="${project.id}" />


		<div id="container" class="container">
			<div class="row">

				<!-- Main -->
				<div id="mainCol" class="col-md-12">
					<h3>Model Management</h3>

					<div th:if="${project.models != null}" class="table-responsive">
						<table class="table table-bordered table-striped" id="data-preprocess-file-list">
							<thead>
								<tr>
									<th>Model Name</th>
									<th>Method</th>
									<th>
										<i class="fa fa-list-alt" aria-hidden="true"></i>
										Action
									</th>
									<th>Info</th>

									<th>Function</th>
									<th>Update</th>
									<th>Delete</th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="model : ${project.models}">
									<td th:text="${model.modelName}">Model Name</td>
									<td th:text="${model.modelMethod}">Method</td>
									<!-- Actions TD -->
									<td>
										<a data-toggle="modal" th:data-target="${'#modal'+model.modelId}">
											<i class="fa fa-history fa-lg" aria-hidden="true"></i>
										</a>
										<div class="modal fade bs-example-modal-lg" th:id="${'modal'+model.modelId}" tabindex="-1" role="dialog">
											<div class="modal-dialog modal-lg" role="document">
												<div class="modal-content">
													<div class="modal-header bg-primary">
														<button type="button" class="close" data-dismiss="modal" aria-label="Close">
															<span aria-hidden="true">&times;</span>
														</button>
														<h3 class="modal-title">
															<i class="fa fa-file-text-o" aria-hidden="true"></i>
															<span th:text="${model.modelName}"></span>
															Actions
														</h3>
													</div>
													<div class="modal-body">
														<ol>
															<li th:each="action : ${model.actions}"
																th:text="${T(com.insnergy.util.ModelActionStringBuilder).modelActionToString(action)}"></li>
														</ol>
													</div>
													<div class="modal-footer">
														<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
													</div>
												</div>
											</div>
										</div>
									</td>
									<!-- go to model-info -->
									<td>
										<a class="btn btn-warning btn-xs"
											th:href="${(#mvc.url('MIC#toModelInfoPage').arg(0,projectId).arg(1,model.modelId)).build()}"
											data-toggle="tooltip" data-placement="bottom" title="Click to see Model Info">Model Info</a>
									</td>

									<!-- /go to model-info -->
									<!-- export api button -->
									<td>
										<a class="btn btn-success btn-xs"
											th:href="${(#mvc.url('MAC#toMakeApiPage').arg(0,projectId).arg(1,model.modelId)).build()}"
											data-toggle="tooltip" data-placement="bottom" title="Click to set API Attribute">Export API</a>
									</td>
									<!-- edit model info -->
									<td>
										<a class="btn btn-primary btn-xs"
											th:href="${(#mvc.url('MUC#toUpdateModelPage').arg(0,model.modelId)).arg(1,projectId).build()}"
											data-toggle="tooltip" data-placement="bottom" title="Click to change model name">Rename</a>
									</td>
									<td>
										<a class="showLoadingIcon btn btn-danger btn-xs" aria-label="Delete" th:href="${model.deleteUrl}">
											<i class="fa fa-trash-o fa-lg" aria-hidden="true"></i>
										</a>
									</td>
								</tr>
							</tbody>
						</table>


						<!-- /TABLE -->

					</div>
					<!-- /DIV table-responsive -->
					<div class="form-group">
						<input type="submit" class="btn btn-primary" name="action" value="Back" />
					</div>

					<!-- /MAIN COL-10 -->
				</div>
				<!-- /Row -->
			</div>
		</div>
		<!-- /container -->


	</form>
	<!-- /FORM -->

	<script src="/webjars/jquery/jquery.min.js"></script>
	<script src="/webjars/bootstrap/js/bootstrap.min.js"></script>
	<div th:replace="fragments/sidebar :: sidebar-js"></div>
</body>
</html>