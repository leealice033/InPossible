<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>InAnalysis</title>
<link href="/webjars/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
<link href="/webjars/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
</head>
<body>
  <div th:replace="fragments/header :: header"></div>
  <div id="container" class="container">
    <div class="row">

      <!-- Main -->
      <div id="mainCol" class="col-md-12">
        <h3></h3>
        <div class="panel panel-info">
          <div class="panel-heading">
            <h3 class="panel-title">
              <i class="fa fa-cog" aria-hidden="true"></i>
              Update API
            </h3>
          </div>

          <form method="POST" action="/update-api">
            <!-- <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" /> -->
            <input type="hidden" name="apiId" th:value="${updateApiParam.apiId}" />

            <!-- name * description -->


            <div class="panel-body">
              <div class="form-group">
                <label for="apiName">API Name</label>
                <input id="apiName" type="text" class="form-control" name="apiName" placeholder="API name(Requird)"
                  th:field="*{updateApiParam.apiName}" />
                <label for="apiDescription">API Description:</label>
                <input id="apiDescription" type="text" class="form-control" name="apiDescription"
                  placeholder="API description(Requird)" th:field="*{updateApiParam.apiDescription}" />

              </div>
              <!-- /API name * description form-group -->

              <!-- API INPUT -->
              <div class="well form-group">
                <!-- check makeApi input -->
                <label for="inputFeature">API Input</label>

                <div th:each="input : ${updateApiParam.inputFormats}" class="form-group row">
                  <input type="hidden" name="inputFeatureNameList" th:value="${input.featureName}" />
                  <input type="hidden" name="inputTypeList" th:value="${input.type}" />

                  <div class="col-md-5 col-md-offset-1">
                    <label th:text="${input.featureName}">feature name</label>
                    <span class="label label-warning" th:text="${input.type}"></span>
                    <input class="form-control" id="user_define_feature_name" type="text"
                      name="inputUserDefineFeatureNameList" th:value="${input.userDefineFeatureName}"
                      placeholder="feature name(Optional)">

                  </div>
                  <div class="col-md-5">
                    <label for="description">Description</label>
                    <input class="form-control" id="description" type="text" name="inputDescriptionList"
                      th:value="${input.description}" placeholder="description(Optional)">

                  </div>
                </div>
              </div>
              <!-- //API INPUT -->

              <!-- API OUTPUT -->
              <div th:if="${updateApiParam.outputFormats != null}" class="well form-group">

                <label for="apiOutput">API Output</label>

                <div th:each="output : ${updateApiParam.outputFormats}" class="form-group row">
                  <input type="hidden" name="outputNameList" th:value="${output.outputName}" />

                  <div class="col-md-5 col-md-offset-1">
                    <label>Output: </label>
                    <span class="label label-info">string</span>
                    <p th:text="${output.outputName}"></p>
                    <input class="form-control" id="user_define_output_name" type="text"
                      name="outputUserDefineOutputName" th:value="${output.userDefineOutputName}"
                      placeholder="output name(Optional)">
                  </div>
                  <div class="col-md-5">
                    <label for="description">Description</label>
                    <input class="form-control" id="description" type="text" name="outputDescriptionList"
                      th:value="${output.description}" placeholder="description(Optional)">

                  </div>
                </div>

              </div>
              <!-- /API OUTPUT -->

              <div class="form-inline">
                <input type="submit" class="btn btn-warning" name="action" value="Cancel" />
                <input type="submit" class="showLoadingIcon btn btn-primary" name="action" value="SaveChange" />

              </div>
            </div>


            <!--  -->
            <!--  -->
            <!--  -->
            <!--  -->
            <!--  -->
            <!--  -->
            <!--  -->
          </form>
          <!-- /FORM -->
        </div>
        <!-- PANEL INFO -->


        <!-- - -->
        <!-- SHOW API 
         -->

        <!-- PANEL SHOW API EXAMPLE -->
        <div th:if="${action == 'Save' }" class="panel panel-info"></div>
        <!-- /save change panel -->
      </div>
      <!-- /MAIN COL-10 -->

    </div>
    <!-- /ROW -->
  </div>
  <!-- /container -->



  <script src="/webjars/jquery/jquery.min.js"></script>
  <script src="/webjars/bootstrap/js/bootstrap.min.js"></script>
  <div th:replace="fragments/sidebar :: sidebar-js"></div>
</body>
</html>